# üî¨ Image Processing Lab: FastAPI & OpenCV

## üöÄ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ **–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è.  
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

- **FastAPI** ‚Äî –±—ã—Å—Ç—Ä—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫  
- **OpenCV** ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

1. **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–≥—Ä–∞–Ω–∏—Ü –∏ –ª–∏–Ω–∏–π).  
2. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞:** —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ —É–ª—É—á—à–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ª–∏–Ω–µ–π–Ω–æ–µ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ, —ç–∫–≤–∞–ª–∏–∑–∞—Ü–∏—è) –≤ —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞—Ö.

---

## ‚ú® –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|------------|------------|
| **Backend/API** | FastAPI | –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ |
| **Web Server** | Uvicorn | ASGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è FastAPI |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** | OpenCV (`cv2`), NumPy | –ú–∞—Ç—Ä–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã CV |
| **Frontend** | Jinja2, HTML/CSS/JS | UI –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- **Python 3.8+**
- `make`  
  - Linux/macOS: –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω  
  - Windows: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Git Bash –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é

### –®–∞–≥ 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
git clone <URL_–í–ê–®–ï–ì–û_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø>
cd fastapi_cv_lab
```

### –®–∞–≥ 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Makefile

#### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–°–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `.venv` –∏ —Å—Ç–∞–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
make install
```

#### 2.2. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
make dev
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

**http://127.0.0.1:8000**

#### 2.3. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ Production

```bash
make run
```

---

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
fastapi_cv_lab/
‚îÇ
‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –º–∞—Ä—à—Ä—É—Ç—ã, HTML-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ processor.py       # –ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (OpenCV)
‚îú‚îÄ‚îÄ requirements.txt   # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Makefile           # –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–∑–∞–ø—É—Å–∫–∞/–æ—á–∏—Å—Ç–∫–∏
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ index.html     # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

---

## üìù –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### I. –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –ü—Ä–∏–Ω—Ü–∏–ø |
|------|-----------|---------|
| **–î–µ—Ç–µ–∫—Ç–æ—Ä –ö—Ä–∞—è Canny** | –Ω–∏–∂–Ω–∏–π/–≤–µ—Ä—Ö–Ω–∏–π –ø–æ—Ä–æ–≥–∏ | –î–≤—É—Ö–ø–æ—Ä–æ–≥–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–Ω–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü |
| **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –•–∞—Ñ–∞ (P)** | –ø–æ—Ä–æ–≥, min –¥–ª–∏–Ω–∞ –ª–∏–Ω–∏–∏, max —Ä–∞–∑—Ä—ã–≤ | –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø—Ä—è–º—ã—Ö |

---

### II. –ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ –∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã

| –ú–µ—Ç–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|-------|------------|-------------|
| **–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —è—Ä–∫–æ—Å—Ç–∏** | –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏ | –°—Ç—Ä–æ–∏—Ç—Å—è –¥–ª—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| **–õ–∏–Ω–µ–π–Ω–æ–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | –†–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —è—Ä–∫–æ—Å—Ç–∏ –æ—Ç `[I_min, I_max]` ‚Üí `[0, 255]` | –ë—ã—Å—Ç—Ä–æ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç CDF |
| **–≠–∫–≤–∞–ª–∏–∑–∞—Ü–∏—è RGB** | –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –ø–æ–∫–∞–Ω–∞–ª—å–Ω–æ | –ú–æ–∂–µ—Ç –∏—Å–∫–∞–∂–∞—Ç—å —Ü–≤–µ—Ç–æ–≤–æ–π –±–∞–ª–∞–Ω—Å |
| **–≠–∫–≤–∞–ª–∏–∑–∞—Ü–∏—è HSV** | –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–∞ **V** | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—Ç–µ–Ω–æ–∫ –∏ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å ‚Äî –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |

---

## üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–£–¥–∞–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:

```bash
make clean
```
